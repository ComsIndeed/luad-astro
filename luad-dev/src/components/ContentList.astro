---

---

<template id="ContentCardTemplate">
  <a href="" class="ContentCard">
    <img
      src=""
      alt=""
      class="ContentCard-headerImage"
      width="160"
      height="90"
    />
    <h2 class="ContentCard-headerText"></h2>
  </a>
</template>

<div class="ContentList"></div>

<script>
  import { fetchFromFirestore } from "../lib/firestoreControls";

  const ContentCardTemplate = document.getElementById(
    "ContentCardTemplate"
  ) as HTMLTemplateElement;

  fetchFromFirestore("/content", undefined, false, true).then(
    (fetchedCollection) => {
      fetchedCollection.map((fetchedDocument) => {
        let newClone = ContentCardTemplate.content.cloneNode(true) as Element;

        newClone
          .querySelector(".ContentCard")
          .setAttribute("href", `/document?id=${fetchedDocument.id}`);

        newClone.querySelector(".ContentCard-headerText").textContent =
          fetchedDocument.title;

        newClone
          .querySelector(".ContentCard-headerImage")
          .setAttribute("src", fetchedDocument.headerImage);

        document.querySelector(".ContentList").appendChild(newClone);
      });
    }
  );
</script>
